<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
        >

    <h:head>
        <title>Factura Ecuador</title>
        <link href="favicon.ico" rel="shortcut icon" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="Author" lang="es" content="Germán Morocho" />
        <meta name="keywords" content="Factura Ecuador" />
        <meta name="description" content="Factura Ecuador"/>
        <meta name="robots" content="index,follow" />
        <ice:outputStyle  href="/xmlhttp/css/rime/rime.css"/>
        <link rel="stylesheet" type="text/css" href="default.css?time=rand1" media="screen" />
        <f:metadata>
            <f:event type="preRenderView" listener="#{login.checkValidLoginStatus}"/>
        </f:metadata>
    </h:head>

    <h:body >

        <div id="loginContainer">
            <ice:form id="loginForm">
                <ace:dialog header="Mensaje"
                            widgetVar="messageDialog"
                            draggable="false"
                            modal="true">
                    <ice:panelGrid style="height: 60px;text-align: center;" width="100%" >
                        <ice:messages errorStyle="color:red;font-weight:bold;background:white;" infoStyle="color:black;font-weight:bold;background:white;" warnStyle="color:orange;font-weight:bold;background:white;" />
                        <ice:commandButton value="Cerrar" onclick="messageDialog.hide();" />
                    </ice:panelGrid>
                </ace:dialog>

                <div style="font-size: 15px;text-align: center;margin-top: 15px;"><b>Identificación de Usuario</b></div>

                <ice:panelGrid columns="2" >
                    <ice:panelGrid>
                        <ice:graphicImage  url="#{login.codigoEmpresaLogin}.logo" style="width: 128px;height: 128px;" />
                        <h:graphicImage library="images" name="keys-128.png" width="128" height="128" />
                    </ice:panelGrid>

                    <ice:panelGrid cellpadding="0" cellspacing="0" style="text-align: center;">
                        <ice:panelGrid width="100%" style="text-align: left;" cellpadding="0" cellspacing="0">
                            <ice:outputLabel id="lblUserName" for="userName" style="width: 100%;">Usuario:</ice:outputLabel>
                        </ice:panelGrid>
                        <ice:inputText value="#{login.nick}" style="width: 150px;" maxlength="13" actionListener="#{login.conectar}" />
                        <ice:panelGrid width="100%" style="text-align: left;" cellpadding="0" cellspacing="0">
                            <ice:outputLabel for="userPassword" >Clave de Acceso:</ice:outputLabel>
                        </ice:panelGrid>
                        <ice:inputSecret value="#{login.clave}" style="width: 150px;" actionListener="#{login.conectar}" />


                        <ice:outputLabel style="font-size: 10px;" >(Click sobre la imagen para cambiar)</ice:outputLabel>
                        <ice:commandButton image="#{login.captchaUrl}" style="width: 150px;height: 60px;">
                            <ace:ajax event="click" execute="@this" render="@this" listener="#{login.captchaListener}"/>
                        </ice:commandButton>

                        <ice:panelGrid width="100%" style="text-align: left;" cellpadding="0" cellspacing="0">
                            <ice:outputLabel for="inputValidationCode" >Ingrese el código desplegado:</ice:outputLabel>
                        </ice:panelGrid>
                        <ice:inputText id="inputValidationCode" value="#{login.captcha}" style="width: 150px;" actionListener="#{login.conectar}" />
                        <ice:panelGrid width="100%" style="text-align: center;" cellpadding="0" cellspacing="0">
                            <ice:commandLink  actionListener="#{login.conectar}" >
                                <ice:graphicImage value="#{resource['images:boton-ingresar.png']}"   />
                            </ice:commandLink>

                        </ice:panelGrid>

                    </ice:panelGrid>

                </ice:panelGrid>


            </ice:form>

        </div>

    </h:body>
</html>
